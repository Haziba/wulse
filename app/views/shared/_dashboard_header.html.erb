<!-- Dashboard Header -->
<header class="bg-white shadow-sm border-b border-gray-200 relative" data-controller="mobile-menu">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-8">
        <%= link_to "/", class: "flex items-center space-x-3" do %>
          <% if Current.institution.logo.attached? %>
            <%= image_tag Current.institution.logo, alt: "#{Current.institution.name.titleize} Logo", class: "h-10 w-10" %>
          <% end %>
          <div>
            <h1 class="font-serif font-bold text-xl text-gray-900"><%= Current.institution.name.titleize %></h1>
          </div>
        <% end %>
        <nav class="hidden md:flex space-x-6">
          <%= link_to "Dashboard", dashboard_path, class: "#{current_page?(dashboard_path) ? 'text-brand-500 border-b-2 border-brand-500' : 'text-gray-700 hover:text-brand-500'} font-medium pb-1 transition-colors" %>
          <%= link_to "Documents", dashboard_documents_path, class: "#{current_page_starts_with?(dashboard_documents_path) ? 'text-brand-500 border-b-2 border-brand-500' : 'text-gray-700 hover:text-brand-500'} font-medium pb-1 transition-colors" %>
          <%= link_to "Staff", dashboard_staff_index_path, class: "#{current_page_starts_with?(dashboard_staff_index_path) ? 'text-brand-500 border-b-2 border-brand-500' : 'text-gray-700 hover:text-brand-500'} font-medium pb-1 transition-colors" %>
        </nav>
      </div>
      <div class="flex items-center space-x-4">
        <button data-action="click->mobile-menu#toggle" class="md:hidden text-gray-700 hover:text-brand-500 p-2">
          <i class="fas fa-bars text-xl"></i>
        </button>
        <%= render "shared/user_profile_menu", staff: Current.staff %>
      </div>
    </div>
  </div>

  <!-- Mobile Navigation Overlay -->
  <div data-mobile-menu-target="menu" class="hidden md:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200 shadow-lg z-50">
    <nav class="px-4 py-4 space-y-2">
      <%= link_to "Dashboard", dashboard_path, class: "#{current_page?(dashboard_path) ? 'text-brand-500 bg-brand-50' : 'text-gray-700 hover:bg-gray-50'} block px-4 py-3 rounded-lg font-medium transition-colors" %>
      <%= link_to "Documents", dashboard_documents_path, class: "#{current_page_starts_with?(dashboard_documents_path) ? 'text-brand-500 bg-brand-50' : 'text-gray-700 hover:bg-gray-50'} block px-4 py-3 rounded-lg font-medium transition-colors" %>
      <%= link_to "Staff", dashboard_staff_index_path, class: "#{current_page_starts_with?(dashboard_staff_index_path) ? 'text-brand-500 bg-brand-50' : 'text-gray-700 hover:bg-gray-50'} block px-4 py-3 rounded-lg font-medium transition-colors" %>
    </nav>
  </div>
</header>
