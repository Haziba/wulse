<!-- Search Header -->
<section class="bg-white border-b border-gray-200 py-6">
  <div class="max-w-7xl mx-auto px-6">
    <div class="max-w-4xl mx-auto" data-controller="library-search" data-library-search-frame-value="library_list">
      <div class="relative">
        <input type="text"
               placeholder="Search documents..."
               value="<%= @search_term %>"
               class="w-full px-6 py-3 text-lg border-2 border-gray-300 rounded-xl focus:border-brand-500 focus:outline-none pl-14"
               data-library-search-target="input"
               data-action="input->library-search#searchDebounced">
        <i class="fas fa-search absolute left-5 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"></i>
        <button class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-brand-500 text-white px-6 py-2 rounded-lg hover:bg-brand-600 transition-colors cursor-pointer"
                data-action="click->library-search#search">
          Search
        </button>
      </div>
      <div class="flex items-center space-x-4 mt-4">
        <span class="text-sm text-gray-600">Quick filters:</span>
        <button class="bg-brand-500 text-white px-4 py-2 rounded-lg text-sm">All</button>
        <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300">Articles</button>
        <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300">Theses</button>
        <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm hover:bg-gray-300">Journals</button>
      </div>
    </div>
  </div>
</section>

<!-- Search Results -->
<div class="max-w-7xl mx-auto px-6 py-8">
  <div class="flex gap-8">
    <!-- Sidebar Filters -->
    <aside class="w-80 flex-shrink-0">
      <div class="bg-white rounded-lg border border-gray-200 p-6">
        <h3 class="font-semibold text-gray-900 mb-4">Refine Results</h3>

        <!-- Document Type -->
        <div class="mb-6">
          <h4 class="font-medium text-gray-700 mb-3">Document Type</h4>
          <div class="space-y-2">
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded" checked>
              <span class="ml-2 text-sm text-gray-600">Articles (1,247)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded" checked>
              <span class="ml-2 text-sm text-gray-600">Theses (342)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded">
              <span class="ml-2 text-sm text-gray-600">Journals (189)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded">
              <span class="ml-2 text-sm text-gray-600">Books (67)</span>
            </label>
          </div>
        </div>

        <!-- Department -->
        <div class="mb-6">
          <h4 class="font-medium text-gray-700 mb-3">Department</h4>
          <div class="space-y-2">
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded" checked>
              <span class="ml-2 text-sm text-gray-600">Computer Science (892)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded">
              <span class="ml-2 text-sm text-gray-600">Engineering (234)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded">
              <span class="ml-2 text-sm text-gray-600">Mathematics (156)</span>
            </label>
          </div>
        </div>

        <!-- Publication Year -->
        <div class="mb-6">
          <h4 class="font-medium text-gray-700 mb-3">Publication Year</h4>
          <div class="space-y-2">
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded" checked>
              <span class="ml-2 text-sm text-gray-600">2024 (234)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded" checked>
              <span class="ml-2 text-sm text-gray-600">2023 (456)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded">
              <span class="ml-2 text-sm text-gray-600">2022 (389)</span>
            </label>
          </div>
        </div>

        <!-- Language -->
        <div>
          <h4 class="font-medium text-gray-700 mb-3">Language</h4>
          <div class="space-y-2">
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded" checked>
              <span class="ml-2 text-sm text-gray-600">English (1,456)</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" class="text-brand-500 rounded">
              <span class="ml-2 text-sm text-gray-600">Spanish (89)</span>
            </label>
          </div>
        </div>
      </div>
    </aside>

    <!-- Results Content -->
    <main class="flex-1">
      <%= turbo_frame_tag "library_list" do %>
        <%= render "library_list", documents: @documents, pagy: @pagy, search_term: @search_term %>
      <% end %>
    </main>
  </div>
</div>
</footer>
