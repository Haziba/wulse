<div class="p-6 hover:bg-gray-50">
  <div class="flex items-start space-x-4">
    <!-- Preview Image -->
    <div class="w-12 h-16 rounded-lg flex-shrink-0 overflow-hidden">
      <% if document.preview_image.attached? %>
        <%= image_tag document.preview_image, class: "w-full h-full object-cover" %>
      <% else %>
        <div class="w-full h-full bg-gray-100 flex items-center justify-center">
          <i class="fas fa-file-alt text-gray-400 text-xl"></i>
        </div>
      <% end %>
    </div>

    <!-- Document Info -->
    <div class="flex-1">
      <div class="flex items-start justify-between">
        <div>
          <h4 class="font-semibold text-gray-900 mb-1">
            <%= link_to document.title || "Untitled Document", dashboard_document_path(document), class: "hover:text-brand-500" %>
          </h4>
          <% if document.metadata.find_by(key: 'description')&.value.present? %>
            <p class="text-sm text-gray-600 mb-2">
              <%= truncate(document.metadata.find_by(key: 'description').value, length: 120) %>
            </p>
          <% end %>
          <% if document.file.attached? %>
            <div class="text-xs text-gray-500">
              <%= number_to_human_size(document.file_size) %>
            </div>
          <% end %>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col space-y-2">
          <% if document.file.attached? %>
            <%= link_to rails_blob_path(document.file, disposition: "attachment"), class: "text-gray-600 hover:text-brand-500 p-2" do %>
              <i class="fas fa-download"></i>
            <% end %>
          <% end %>
          <%= link_to library_read_path(document), class: "text-gray-600 hover:text-brand-500 p-2" do %>
            <i class="fas fa-book-open"></i>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
